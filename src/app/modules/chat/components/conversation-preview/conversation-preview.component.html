<mat-card *ngIf="conversation"
          class="conversation-container mat-elevation-z"
          [ngClass]="{'shadowed-8 active': !conversation.id}"
          matBadge="10"
          [matBadgeHidden]="conversation.id"
          (click)="openConversation(conversation)">

    <section class="images">
        <div *ngFor="let user of conversation.users">
            <app-avatars [imageUrl]="user?.photoUrl? user.photoUrl: avatarPlaceholder"></app-avatars>
        </div>
    </section>

    <article class="content">
        <header>
            <div class="name mat-body-2">
                {{conversation.name | slice:0:50}}
                <span *ngIf="conversation.name.length>100">...</span>
            </div>

            <p class="mat-caption">status</p>
        </header>

        <p *ngIf="conversation.lastMessage as message">
            {{message.messageBody | slice:0:100}}
            <span *ngIf="message.messageBody?.length > 100">...</span>
        </p>
    </article>
</mat-card>
